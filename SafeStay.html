<!DOCTYPE html>
<html>
    <head>
        <style type="text/css">
            html, body, #map-canvas { height: 100%; margin: 0; padding: 0;}
            </style>
        <script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAi1TNweOF5G6B8S7ssmXzQxOI2oUQ50tQ">
            </script>
        <script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?libraries=visualization&sensor=true_or_false">
            </script>
        <script src="jquery.js"></script>
        <script type="text/javascript">
            function initialize() {
                var mapOptions = {
                    center: { lat: 37.774546, lng: -122.433523},
                    zoom: 13
                };
                
                $.get( "http://api.geonames.org/postalCodeLookupJSON?postalcode=6600&country=AT&username=demo", function( data ) {
                      
                      //alert( data.postalcodes[0].adminCode1 );
                      });
                      
                      var heatMapData = [];
                      var count = 0;
                      for(x = 0; x < 50; x++) {
                          for(y = 0; y < 50; y++) {
                              if(Math.random()<0.5) {
                                  heatMapData[count] = {location: new google.maps.LatLng(37.782 + y/1000, -122.447 + x/1000), weight: 0.5};
                              }
                              count++;
                          }
                      }
                      
                      
                      var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
                      
                      
                      var heatmap = new google.maps.visualization.HeatmapLayer({ data: heatMapData }); heatmap.setMap(map);
                      
                      setMarkers(map, beaches);
                      
            }
        
        var beaches = [
                       ['Bondi Beach', 37.774546, -122.433523, 4],
                       ['Bondi Beach', 37.786, -122.433523, 4]
                       ];
                       
                       function setMarkers(map, locations) {
                           // Add markers to the map
                           
                           // Marker sizes are expressed as a Size of X,Y
                           // where the origin of the image (0,0) is located
                           // in the top left of the image.
                           
                           // Origins, anchor positions and coordinates of the marker
                           // increase in the X direction to the right and in
                           // the Y direction down.
                           var image = {
                               url: 'images/hotel.png',
                               // This marker is 20 pixels wide by 32 pixels tall.
                               size: new google.maps.Size(32, 38),
                               // The origin for this image is 0,0.
                               origin: new google.maps.Point(0,0),
                               // The anchor for this image is the base of the flagpole at 0,32.
                               anchor: new google.maps.Point(32/2, 38/2)
                           };
                           // Shapes define the clickable region of the icon.
                           // The type defines an HTML &lt;area&gt; element 'poly' which
                           // traces out a polygon as a series of X,Y points. The final
                           // coordinate closes the poly by connecting to the first
                           // coordinate.
                           var shape = {
                               coords: [1, 1, 1, 20, 18, 20, 18 , 1],
                               type: 'poly'
                           };
                           for (var i = 0; i < locations.length; i++) {
                               var beach = locations[i];
                               var myLatLng = new google.maps.LatLng(beach[1], beach[2]);
                               var marker = new google.maps.Marker({
                                                                   position: myLatLng,
                                                                   map: map,
                                                                   icon: image,
                                                                   shape: shape,
                                                                   title: beach[0],
                                                                   zIndex: beach[3]
                                                                   });
                           }
                       }
        
        google.maps.event.addDomListener(window, 'load', initialize);
            </script>
    </head>
    <body>
        <div id="map-canvas"></div>
    </body>
</html>